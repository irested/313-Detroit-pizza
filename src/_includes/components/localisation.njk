<section id="localisation" class="w-full p-8 lg:p-16">
  <!-- Title -->
  <div class="mb-8">
    <h2 class="text-2xl sm:text-3xl lg:text-4xl font-bowlby text-vertAccent flex items-center justify-center lg:justify-start space-x-2">
      <span>üìç</span>
      <span>Localisation</span>
    </h2>
  </div>

  <div class="flex flex-col lg:flex-row gap-8">
    <!-- Left Column - Table -->
    <div class="lg:w-1/2">
      <div class="bg-white rounded-lg overflow-hidden shadow-lg h-full flex flex-col">
        <table class="w-full h-full">
          <thead class="bg-vert text-white">
            <tr>
              <th class="py-3 px-4 text-left text-base lg:text-xl">Jour</th>
              <th class="py-3 px-4 text-left text-base lg:text-xl">Lieu</th>
              <th class="py-3 px-4 text-left text-base lg:text-xl">Horaires</th>
            </tr>
          </thead>
          <tbody class="divide-y">
            {% for loc in localisation %}
              <tr class="{% if loc.dayNumber == today %} bg-orange text-white {% endif %} {% if loc.closed %} text-gray-400 {% endif %}">
                <td class="py-5 px-4 text-base lg:text-lg">{{ loc.day }}</td>
                <td class="py-5 px-4 text-base lg:text-lg">{{ loc.place }}</td>
                <td class="py-5 px-4 text-base lg:text-lg">{% if loc.closed %}Ferm√©{% else %}17h45 - 21h30{% endif %}</td>
              </tr>
            {% endfor %}
          </tbody>
        </table>
      </div>
    </div>

    <!-- Right Column - Map -->
    <div class="lg:w-1/2">
      <div class="bg-white rounded-lg overflow-hidden shadow-lg h-full">
        {% set today = today | default(0) %}
        {% set currentLocation = localisation | find("dayNumber", today) %}
        {% if currentLocation %}
          <div class="h-[400px] lg:h-[500px]">
            <iframe 
              src="{{ currentLocation.mapUrl }}"
              class="w-full h-full border-0"
              loading="lazy"
              frameborder="0"
              scrolling="no">
            </iframe>
          </div>
          <div class="p-4">
            <button 
              class="block w-full text-center py-3 px-6 bg-orange text-white font-blackHan text-lg lg:text-xl rounded-sm hover:bg-orange/90 transition-colors"
              onclick="handleNavigationClick(event, '{{ currentLocation.lat }}', '{{ currentLocation.lon }}')">
              M'Y RENDRE
            </button>
          </div>
        {% else %}
          <div class="flex items-center justify-center h-[400px] lg:h-[500px] text-gray-500 text-lg lg:text-xl">
            Pas de localisation aujourd'hui
          </div>
        {% endif %}
      </div>
    </div>
  </div>
</section>